<!DOCTYPE html>
<html>
<head>
	<title>Fortune Teller</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
	<style>
		html, body {
			height: 100%;
		}
		body {
			padding: 10px;
			background-color: #4a148c;
			display: flex;
			align-items: center;
		}

		div.main {
			background-color: white;
			padding: 10px;
			border-radius: 10px
		}

		div.disclaimer-main {
			border: 1px solid #888;
			border-radius: 10px;
			padding-top: 5px;
			padding-bottom: 5px;
		}

		div.disclaimer {
			margin: 15px;
		}

		div.footer {
			position: absolute;
			bottom: 5%;
			text-align: center;
			margin-left: -10px;
		}

		div.footer > p > a {
			color: white;
			text-decoration: underline;
		}

		div.footer > p > a:hover {
			text-decoration: none;
		}

		div.footer > p {
			font-size: 0.75em;
			display: inline-block;
			color: white;
		}

		h1 {
			margin-bottom: 25px;
		}

		.center {
			text-align: center;
		}

		.accent {
			background-color: #ffd180;
		}
	</style>
</head>
<body>
	<div class="container main">
		<div class="row">
			<div class="col">
				<h1 class="center">Know your fortune!</h1>
				<div class="input-group">
					<input class="form-control" type="text" id="fortune" placeholder="Fortune will appear here..." disabled/>
					<span class="input-group-btn">
						<button class="btn btn-secondary bg-warning" type="button" id="generate">Generate Fortune</button>
					</span>
				</div>
			</div>
		</div>
		<div class="row disclaimer">
			<div class="col-8 offset-2 disclaimer-main">
				<h5 class="text-danger">DISCLAIMER</h5>
				<p>
					The author does not hold any responsibility of the generated fortune in this site.
					The site is a product of the author's curiosity and tons of free time.
					The fortune is generated by an artificial intelligence. 
					This does not reflect the author's character and point of view in any way possible.
				</p>
			</div>
		</div>
		<!-- <p class="center" id="fortune">Fortune goes here.</p> -->

	</div>
	<div class="container-fluid footer">
		<p> &copy; 2017 created by Julius Jireh B. Vega. <a href="../index.html">Click here to go back to main page.</a></p>
	</div>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
	<script type="text/javascript">
		let url = "https://fortune-riyymwfkda.now.sh";
		function generate() {
			$.ajax({
				method: "GET",
				url: url + "/fortune"
			}).done(function (data) {
				alert(data);
				$("#fortune").val(JSON.parse(data).message);
			});
		}

		function ping() {
			$.ajax({
				method: "GET",
				url: url + "/fortune"
			}).done(function(data) {
				$("#fortune").prop("disabled", false);
			}).fail(function(jqXHR, err) {
				ping();
			});
		}

		$(window).on('load', function() {
			ping();
			$("#generate").on('click', function() {
				generate();
			})
		})
	</script>
</body>
</html>